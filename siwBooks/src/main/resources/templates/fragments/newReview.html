<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
  <div th:fragment="newReview">
    <h2>
      <i class="fa-solid fa-pen-to-square"></i>
      Lascia la tua Recensione
    </h2>

    <form th:action="@{/registered/addReview}" method="POST" th:object="${newReview}">
      <input type="hidden" name="bookId" th:value="${book.id}" />

      <!-- Titolo Recensione -->
      <label>Titolo della Recensione:</label>
      <input type="text" th:field="*{title}" required />
      <div th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></div>

      <!-- Descrizione -->
      <label>La tua Recensione:</label>
      <textarea th:field="*{text}" rows="5" required></textarea>
      <div th:if="${#fields.hasErrors('text')}" th:errors="*{text}"></div>

      <!-- Voto con Stelle -->
      <label>Valutazione:</label>
      <div th:each="star : ${#numbers.sequence(5,1,-1)}">
        <input type="radio" th:field="*{rating}" th:value="${star}" th:id="'star' + ${star}" />
        <label th:for="'star' + ${star}">
          <i class="fa-solid fa-star"></i>
        </label>
      </div>
      <div th:if="${#fields.hasErrors('rating')}" th:errors="*{rating}"></div>

      <!-- Pulsante di Invio -->
      <button type="submit">
        <i class="fa-solid fa-paper-plane"></i>
        Invia Recensione
      </button>
    </form>
  </div>
</body>

</html>
